-- Tablo oluşturma
CREATE TABLE IF NOT EXISTS employee (
  id INTEGER PRIMARY KEY,
  name VARCHAR(50) NOT NULL,
  birthday DATE NOT NULL,
  email VARCHAR(100) NOT NULL
);

-- 50 satır veri ekleme

INSERT INTO employee (id, name, birthday, email) VALUES (1, 'Elif Güneş', '1985-12-26', 'elif.gunes760@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (2, 'Ece Çelik', '2005-05-10', 'ece.celik755@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (3, 'Derya Kaya', '1976-06-04', 'derya.kaya605@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (4, 'Ahmet Kaya', '1997-09-01', 'ahmet.kaya224@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (5, 'Selin Güneş', '2004-02-25', 'selin.gunes575@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (6, 'Derya Aslan', '2001-06-07', 'derya.aslan226@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (7, 'Emre Güneş', '1993-12-16', 'emre.gunes778@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (8, 'Deniz Aydın', '1990-02-05', 'deniz.aydin160@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (9, 'Elif Kaya', '1991-02-07', 'elif.kaya390@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (10, 'Mert Ateş', '1995-08-11', 'mert.ates271@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (11, 'Derya Demir', '1978-07-15', 'derya.demir997@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (12, 'Derya Öztürk', '2000-11-24', 'derya.ozturk850@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (13, 'Ali Kaya', '1987-12-25', 'ali.kaya47@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (14, 'Mehmet Yıldırım', '1992-01-19', 'mehmet.yildirim888@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (15, 'Emre Kurt', '1982-04-18', 'emre.kurt651@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (16, 'Mert Doğan', '2005-08-30', 'mert.dogan215@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (17, 'Mehmet Ateş', '1998-12-17', 'mehmet.ates651@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (18, 'Ece Şahin', '1987-02-09', 'ece.sahin474@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (19, 'Derya Yıldırım', '1977-07-05', 'derya.yildirim702@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (20, 'Ece Yılmaz', '1992-12-29', 'ece.yilmaz825@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (21, 'Emre Kaya', '1984-07-15', 'emre.kaya217@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (22, 'Buse Kılıç', '1981-05-29', 'buse.kilic906@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (23, 'Emre Çelik', '2001-03-22', 'emre.celik253@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (24, 'Ozan Avcı', '1984-11-02', 'ozan.avci409@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (25, 'Can Erdoğan', '1977-02-10', 'can.erdogan506@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (26, 'Elif Çelik', '2005-07-11', 'elif.celik643@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (27, 'Ozan Ateş', '1992-02-13', 'ozan.ates66@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (28, 'Selin Kurt', '1999-10-26', 'selin.kurt542@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (29, 'Ahmet Demir', '2003-10-02', 'ahmet.demir699@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (30, 'Deniz Demir', '1982-02-04', 'deniz.demir301@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (31, 'Cem Güneş', '1997-06-15', 'cem.gunes977@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (32, 'Zeynep Erdoğan', '2003-01-18', 'zeynep.erdogan935@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (33, 'Naz Erdoğan', '1981-11-09', 'naz.erdogan624@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (34, 'Mert Şahin', '2001-11-13', 'mert.sahin553@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (35, 'Deniz Koç', '1991-04-14', 'deniz.koc20@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (36, 'Naz Yıldırım', '2000-06-13', 'naz.yildirim60@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (37, 'Mehmet Kaya', '1978-02-07', 'mehmet.kaya750@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (38, 'Derya Çelik', '1999-08-30', 'derya.celik132@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (39, 'Zeynep Aydın', '1984-07-02', 'zeynep.aydin541@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (40, 'Derya Yıldız', '1992-11-24', 'derya.yildiz731@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (41, 'Mert Kurt', '1980-06-05', 'mert.kurt922@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (42, 'Ece Yıldırım', '1975-12-11', 'ece.yildirim66@inbox.net');

INSERT INTO employee (id, name, birthday, email) VALUES (43, 'Eren Polat', '1975-04-28', 'eren.polat236@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (44, 'Mehmet Yılmaz', '1976-05-29', 'mehmet.yilmaz235@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (45, 'Deniz Kaya', '1987-06-29', 'deniz.kaya527@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (46, 'Buse Yıldız', '2000-08-12', 'buse.yildiz553@mail.com');

INSERT INTO employee (id, name, birthday, email) VALUES (47, 'Eren Koç', '1993-04-05', 'eren.koc249@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (48, 'Ali Demir', '1990-11-22', 'ali.demir100@company.org');

INSERT INTO employee (id, name, birthday, email) VALUES (49, 'Ozan Aslan', '2005-03-16', 'ozan.aslan479@example.com');

INSERT INTO employee (id, name, birthday, email) VALUES (50, 'Elif Yılmaz', '1979-11-26', 'elif.yilmaz413@inbox.net');

-- 5 adet UPDATE
-- 1) name -> email
UPDATE employee
SET email = lower(replace(name, ' ', '_')) || '@example.com'
WHERE id % 10 = 0;

-- 2) email -> name
UPDATE employee
SET name = initcap(split_part(email, '@', 1))
WHERE id % 10 = 1;

-- 3) rental-like logic: birthday + 1 yıl
UPDATE employee
SET birthday = birthday + INTERVAL '1 year'
WHERE id % 10 = 2;

-- 4) birthday -> name ek
UPDATE employee
SET name = name || ' Jr.'
WHERE EXTRACT(YEAR FROM birthday) > 2000;

-- 5) email alanında alan adı normalize et
UPDATE employee
SET email = regexp_replace(email, '@.*$', '@company.com')
WHERE id % 10 = 3;

-- 5 adet DELETE
-- 1) id'ye göre
DELETE FROM employee WHERE id % 20 = 0;

-- 2) name'e göre
DELETE FROM employee WHERE name LIKE 'Z%';

-- 3) birthday'e göre
DELETE FROM employee WHERE birthday < '1980-01-01';

-- 4) email alanına göre
DELETE FROM employee WHERE email LIKE '%test%';

-- 5) önceki update sonrası 'Jr.' içeren adlara göre
DELETE FROM employee WHERE name ILIKE '%Jr.%';